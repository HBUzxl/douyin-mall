syntax = "proto3";

package order;
option go_package="./order";

message OrderItem {
  string product_uuid = 1;
  int64 price = 2;
  int64 quantity = 3;
}

message OrderInfo {
  string uuid = 1;
  string user_uuid = 2;
  string address_uuid = 3;
  repeated OrderItem order_items = 4;
  int64 total_price = 5;
  int64 status = 6;
  int64 created_at = 7;
}

message GetUserOrdersReq {
  string user_uuid = 1;
}

message GetUserOrdersResp {
  repeated OrderInfo orders = 1;
  int64 total = 2;
}

message UpdateOrderAddressReq {
  string user_uuid = 1;
  string order_uuid = 2;
  string address_uuid = 3;
}

message UpdateOrderAddressResp {
  string address_uuid = 1;
}


service Order {
  // 获取用户订单
  rpc GetUserOrders(GetUserOrdersReq) returns(GetUserOrdersResp);
  // 更新订单地址
  rpc UpdateOrderAddress(UpdateOrderAddressReq) returns(UpdateOrderAddressResp);
}
